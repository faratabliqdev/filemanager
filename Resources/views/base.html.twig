<!DOCTYPE html>
<html lang="fa" dir="rtl">
    <head>
        <meta charset="UTF-8">
        <meta name="viewport" content="width=device-width, initial-scale=1" />
        <meta name="description" content="Neon Admin Panel Composed in Symfony 4" />
        <meta name="author" content="Ali Kazemi - kazemi@farahang.net" />

        {# these two files now must be included on every page #}
        {#<script src="{{ asset('build/manifest.js') }}"></script>#}
        {#<script src="{{ asset('build/app.js') }}"></script>#}
        {#<script src="{{ asset('build/jquerymin.js') }}"></script>#}

        {# continue including app.css on every page #}
        {#<link rel="stylesheet" href="{{ asset('build/app.css') }}" />#}
        <title>{% block title %}Welcome!{% endblock %}</title>
        {% block stylesheets %}
            <link rel="stylesheet" href="https://maxcdn.bootstrapcdn.com/bootstrap/3.3.7/css/bootstrap.min.css" integrity="sha384-BVYiiSIFeK1dGmJRAkycuHAHRg32OmUcww7on3RYdg4Va+PmSTsz/K68vbdEjh4u" crossorigin="anonymous">
            <link rel="stylesheet" href="https://use.fontawesome.com/releases/v5.7.2/css/all.css" integrity="sha384-fnmOCqbTlWIlj8LyTjo7mOUStjsKC4pOpQbqyi7RrhN7udi9RwhKkMHpvLbHG9Sr" crossorigin="anonymous">
            <link rel="stylesheet" href="https://cdn.datatables.net/v/bs/jszip-2.5.0/pdfmake-0.1.18/dt-1.10.12/b-1.2.2/b-colvis-1.2.2/b-flash-1.2.2/b-html5-1.2.2/b-print-1.2.2/fc-3.2.2/fh-3.1.2/r-2.1.0/datatables.min.css">
            <link rel="stylesheet" href="https://maxcdn.bootstrapcdn.com/font-awesome/4.6.3/css/font-awesome.min.css">
            <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/bootstrap-daterangepicker/2.1.25/daterangepicker.min.css">
            <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/x-editable/1.5.1/bootstrap3-editable/css/bootstrap-editable.css">
            <link rel="stylesheet" href="https://cdn.rawgit.com/noelboss/featherlight/1.7.1/release/featherlight.min.css">
            <link rel="stylesheet"
                  href="{{ asset('bundles/Adsignfilemanager/libs/jstree/dist/themes/default/style.min.css') }}">
            <link rel="stylesheet"
                  href="{{ asset('bundles/Adsignfilemanager/libs/blueimp-file-upload/css/jquery.fileupload.css') }}">
            <link rel="stylesheet" href="{{ asset('bundles/Adsignfilemanager/css/manager.css') }}">
            <link rel="stylesheet"
                  href="{{ asset('bundles/Adsignfilemanager/libs/jQuery-contextMenu/dist/jquery.contextMenu.min.css') }}">
            <link rel="stylesheet" href="{{ asset('bundles/Adsignfilemanager/css/select2/select2.css') }}">
            <link rel="stylesheet" href="{{ asset('bundles/Adsignfilemanager/css/select2/select2-bootstrap.css') }}">
        {% endblock %}
        {% block head_javascripts %}
            <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.1.1/jquery.min.js"></script>
            <script src="https://cdnjs.cloudflare.com/ajax/libs/moment.js/2.15.1/moment-with-locales.min.js"></script>
            <script src="https://maxcdn.bootstrapcdn.com/bootstrap/3.3.7/js/bootstrap.min.js" integrity="sha384-Tc5IQib027qvyjSMfHjOMaLkfuWVxZxUPnCJA7l2mCWNIpG9mGCD8wGNIcPD7Txa" crossorigin="anonymous"></script>

            <script src="{{ asset('bundles/Adsignfilemanager/libs/jstree/dist/jstree.min.js') }}"></script>
            <script src="{{ asset('bundles/Adsignfilemanager/libs/blueimp-file-upload/js/vendor/jquery.ui.widget.js') }}"></script>
            <script src="{{ asset('bundles/Adsignfilemanager/libs/blueimp-file-upload/js/jquery.iframe-transport.js') }}"></script>
            <script src="{{ asset('bundles/Adsignfilemanager/libs/blueimp-file-upload/js/jquery.fileupload.js') }}"></script>
            <script src="{{ asset('bundles/Adsignfilemanager/libs/sticky-kit/jquery.sticky-kit.min.js') }}"></script>
            <script src="{{ asset('bundles/Adsignfilemanager/libs/remarkable-bootstrap-notify/dist/bootstrap-notify.min.js') }}"></script>
            <script src="{{ asset('bundles/Adsignfilemanager/libs/jQuery-contextMenu/dist/jquery.contextMenu.min.js') }}"></script>
            <script type="text/javascript" src="{{ asset('bundles/Adsignfilemanager/libs/jquery-lazy/jquery.lazy.min.js') }}"></script>

            <script src="https://cdnjs.cloudflare.com/ajax/libs/bootstrap-daterangepicker/2.1.25/daterangepicker.min.js" charset="UTF-8"></script>
            <script src="https://cdn.datatables.net/v/bs/jszip-2.5.0/pdfmake-0.1.18/dt-1.10.12/b-1.2.2/b-colvis-1.2.2/b-flash-1.2.2/b-html5-1.2.2/b-print-1.2.2/fc-3.2.2/fh-3.1.2/r-2.1.0/datatables.min.js"></script>
            <script src="https://cdnjs.cloudflare.com/ajax/libs/x-editable/1.5.1/bootstrap3-editable/js/bootstrap-editable.min.js"></script>
            <script src="https://cdn.rawgit.com/noelboss/featherlight/1.7.1/release/featherlight.min.js"></script>

            <script src="{{ asset('bundles/sgdatatables/js/pipeline.js') }}"></script>

            <script src="{{ asset('bundles/fosjsrouting/js/router.js') }}"></script>
            <script src="{{ path('fos_js_routing_js', {'callback': 'fos.Router.setData'}) }}"></script>
        {% endblock %}
    </head>
    <body>
        {% block body %}{% endblock %}
        {% block javascripts %}

            <script src="{{ asset('bundles/Adsignfilemanager/js/select2/select2.min.js') }}"></script>
            <script src="{{ asset('bundles/tetranzselect2entity/js/select2entity.js') }}"></script>
            <script>
                $('body').on('click', '[data-prototype]', function(e) {
                    $(this).prev().find('.select2entity').last().select2entity();
                });
            </script>

            {#<script type="text/javascript">#}
                {#jQuery( document ).on('click', '#sg-datatables-gallery_datatable  tbody tr', function () {#}
                        {#var galleryId = $(this).find('.galleryId').text();#}
                        {#console.log(galleryId)#}
                        {#$('#galleryPlace').val(galleryId);#}
                        {#$('#galleryIndexModal').modal('hide');#}
                {#});#}
            {#</script>#}
            <script type="text/javascript">
                jQuery( document ).on('click', '#sg-datatables-gallery_datatable  tbody tr', function () {
                    var galleryId = $(this).find('.galleryId').text();
                    console.log(galleryId)
                    var galleryPlace = window.parent.document.getElementById('galleryPlace');
                    console.log(galleryPlace)
                    galleryPlace.value = galleryId
                    galleryPlace.dispatchEvent(new Event('change'));
                    // window.parent.$("#galleryPlace").modal.close();;
                    //
                    // window.parent.$.modal.close();

                    // galleryPlace.trigger('change');
                    // galleryPlace.change();
                    // $('#galleryPlace').val(galleryId);
                    // var galleryIndexModal = window.parent.document.getElementById('galleryIndexModal');
                    // galleryIndexModal.modal('hide');
                    // $('#galleryIndexModal', window.parent.document).modal('hide');
                });
            </script>

        {% endblock %}
    </body>
</html>
